/**
 * @package MediaViewer
 * @version 1.2.2
 * @description A javascript library to create a media viewing experience
 * @license MIT
 * @author XHiddenProjects
 * @repository [XHiddenProjects/MediaViewer](https://github.com/XHiddenProjects/MediaViewer)
 */
export const File=class{constructor(e){return this.path=File.#e(e),this}static#e(e){let t=e.split("/").filter((e=>e&&"."!==e)),s=[];for(let e of t)".."===e?s.pop():s.push(e);return`${window.location.pathname}${s.join("/")}`}};function validJSON(e){try{return JSON.parse(e)}catch(e){return null}}export const FileReader=class{#t;constructor(e){const t=new XMLHttpRequest;return t.onreadystatechange=()=>{this.responseText=t.responseText,this.response=t.response,this.responseType=t.responseType,this.responseURL=t.responseURL,this.responseXML=t.responseXML,this.responseJSON=validJSON(t.responseText),this.status=t.status,this.statusText=t.statusText,this.responseHeader=t.getResponseHeader("Content-type"),this.#t=t.getAllResponseHeaders()},t.open("GET",e.path,!1),t.send(),this}readLines(e=!1){return e?this.responseText.split("\n").map((e=>e.replace(/[\t\n\r]+/g,"").trim())):this.responseText.split("\n")}read(e=!1){return e?this.responseText.replace(/[\t\n\r]+/g,"").trim():this.responseText}};export const FileWriter=class{constructor(e,t,s={type:"UTF-8"}){const r=document.createElement("a"),n=new Blob([t],s);return r.href=URL.createObjectURL(n),this.url=r.href,r.download=FileWriter.#s(e.path),r.click(),URL.revokeObjectURL(r.href),this}static#s(e){const t=e.split("/");return t[t.length-1]}};export const FileExists=e=>{try{const t=new XMLHttpRequest;return t.open("HEAD",e.path,!1),t.send(),200===t.status}catch(e){return!1}};export const readableSize=(e,t=2)=>{if("number"!=typeof e||isNaN(e))return"0 B";const s=["B","KB","MB","GB","TB","PB"];let r=0;for(;e>=1024&&r<s.length-1;)e/=1024,r++;return`${e.toFixed(t)} ${s[r]}`};export const FileSize=e=>{try{const t=new XMLHttpRequest;if(t.open("HEAD",e.path,!1),t.send(),200===t.status){const e=t.getResponseHeader("Content-Length");return e?parseInt(e,10):null}return null}catch(e){return null}};